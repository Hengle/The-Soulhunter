[gd_scene load_steps=4 format=2]

[ext_resource path="res://Graphics/Items/0.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends KinematicBody2D

var id = 0 setget set_id
var gravity = Vector2()

func _physics_process(delta):
	gravity.y += 1
	
	if move_and_collide(gravity):
		gravity.y = 0

func set_id(_id):
	id = _id
	$Sprite.texture = load(str(\"res://Graphics/Items/\", id, \".png\"))

func _body_enter(body):
	if body.is_in_group(\"players\"):
		if Com.server:
			Network.send_data([\"GOTITEM\", body.mapid, body.id, id])
		queue_free()"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 15, 15 )

[node name="Item" type="KinematicBody2D"]
collision_layer = 0
collision_mask = 3
script = SubResource( 1 )

[node name="Sprite" type="Sprite" parent="."]
texture = ExtResource( 1 )

[node name="Collider" type="CollisionShape2D" parent="."]
shape = SubResource( 2 )


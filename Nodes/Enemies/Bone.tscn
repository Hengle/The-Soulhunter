[gd_scene load_steps=5 format=2]

[ext_resource path="res://Graphics/Projectiles/Bone.png" type="Texture" id=1]
[ext_resource path="res://Scripts/ParentCollider.gd" type="Script" id=2]

[sub_resource type="GDScript" id=1]

resource_name = "Bone"
script/source = "extends \"res://Scripts/Enemy.gd\"

var velocity = Vector2(-6, -16)

func _ready():
	init()
	attack_type = \"B\"

func _physics_process(delta):
	velocity += Vector2(0, 1)
	rotation -= velocity.x
	
	var col = move_and_collide(velocity)
	if col: queue_free()

func get_sync_data():
	return [\"Bone\", position, Vector2(velocity.x + 10000, velocity.y + 10000)]

func sync_data(data):
	var extract = Network.get_data([\"vector2\", \"vector2\"], data[3], data[2])
	position = extract[0]
	velocity = Vector2(extract[1].x - 10000, extract[1].y - 10000)"
_sections_unfolded = [ "Resource" ]

[sub_resource type="RectangleShape2D" id=2]

custom_solver_bias = 0.0
extents = Vector2( 8, 21 )

[node name="Bone" type="KinematicBody2D"]
input_pickable = false
collision_layer = 1
collision_mask = 0
collision/safe_margin = 0.08
motion/sync_to_physics = false
script = SubResource( 1 )
_sections_unfolded = [ "Collision", "collision" ]

[node name="Collider" type="CollisionShape2D" parent="."]
shape = SubResource( 2 )

[node name="Sprite" type="Sprite" parent="."]
texture = ExtResource( 1 )

[node name="Hitbox" type="Area2D" parent="."]
editor/display_folded = true
input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"
script = ExtResource( 2 )

[node name="Shape" type="CollisionShape2D" parent="Hitbox"]
shape = SubResource( 2 )

